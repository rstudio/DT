<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Server-side Processing in R</title>

<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap/js/bootstrap.min.js"></script>
<script src="libs/bootstrap/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation/tabsets.js"></script>
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<link rel="stylesheet" href="css/style-1.css" type="text/css" />



<link rel="stylesheet" href="css/style-2.css" type="text/css" />
<link rel="stylesheet" href="css/style-3.css" type="text/css" />
<script src="js/script-6.js"></script>




<link rel="stylesheet" href="include/site.css" type="text/css" />



<link rel="stylesheet" href="css/style-4.css" type="text/css" />



<!-- tabsets -->

<link rel="stylesheet" href="css/style-5.css" type="text/css" />

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="./">DT</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="options.html">Options</a></li>
        <li><a href="functions.html">Functions</a></li>
        <li><a href="server.html">Server-side Processing</a></li>
        <li><a href="extensions.html">Extensions</a></li>
        <li><a href="plugins.html">Plug-ins</a></li>
        <li><a href="shiny.html">Shiny</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/rstudio/DT" title="View Source on Github"><i class="fa fa-github fa-lg"></i></a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</nav><!--/.navbar -->


<div id="header">



<h1 class="title toc-ignore">Server-side Processing in R</h1>

</div>


<hr />
<p>We have been using client-side processing in all the above examples, i.e., searching, pagination, and ordering are done using JavaScript in the web browser. When the size of the data is huge, it may be more efficient to process the data on the server. DataTables supports retrieving data from a server by sending Ajax requests, a.k.a the <a href="http://datatables.net/examples/data_sources/server_side.html">“server-side processing”</a>.</p>
<div id="a-shiny-example" class="section level1" number="1">
<h1><span class="header-section-number">1</span> A Shiny Example</h1>
<p>If you have used <strong>DataTables</strong> in <strong>shiny</strong> before, you might know that <strong>shiny</strong> uses the server-side processing model for <strong>DataTables</strong>, which basically means the data is processed through R, and R will return the JSON data to the client.</p>
<p>Server-side processing in Shiny is enabled by the <code>DT::renderDataTable</code> parameter <code>server = TRUE</code>; it is enabled by default. There is an example in the <strong>DT</strong> package, which you can run by</p>
<pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">runApp</span>(<span class="fu">system.file</span>(<span class="st">&#39;examples&#39;</span>, <span class="st">&#39;DT-shiny&#39;</span>, <span class="at">package =</span> <span class="st">&#39;DT&#39;</span>))</span></code></pre>
<p>Below is the source code of the example app:</p>
<div id="ui.r" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> ui.R</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyUI</span>(<span class="fu">fluidPage</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&#39;Use the DT package in shiny&#39;</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">h1</span>(<span class="st">&#39;A Table Using Client-side Processing&#39;</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="dv">2</span>),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="dv">8</span>, DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&#39;tbl_a&#39;</span>)),</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="dv">2</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">h1</span>(<span class="st">&#39;A Table Using Server-side Processing&#39;</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="dv">2</span>),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="dv">8</span>, DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&#39;tbl_b&#39;</span>)),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="dv">2</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>))</span></code></pre>
</div>
<div id="server.r" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> server.R</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyServer</span>(<span class="cf">function</span>(input, output, session) {</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tbl_a <span class="ot">=</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>(iris, <span class="at">server =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tbl_b <span class="ot">=</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>(iris)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>})</span></code></pre>
</div>
</div>
<div id="a-jsonp-example" class="section level1" number="2">
<h1><span class="header-section-number">2</span> A JSONP Example</h1>
<p>Now let’s try the <a href="http://datatables.net/examples/server_side/jsonp.html">JSONP data source example</a> on the DataTables website. It is fairly simple to reproduce that example here using the <code>datatable()</code> function with an option <code>ajax</code> that specifies the data URL:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>employee <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">First name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">character</span>(), <span class="st">`</span><span class="at">Last name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">character</span>(), <span class="at">Position =</span> <span class="fu">character</span>(),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Office =</span> <span class="fu">character</span>(), <span class="st">`</span><span class="at">Start date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">character</span>(), <span class="at">Salary =</span> <span class="fu">numeric</span>(),</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">check.names =</span> <span class="cn">FALSE</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(employee, <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ajax =</span> <span class="fu">list</span>(</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">serverSide =</span> <span class="cn">TRUE</span>, <span class="at">processing =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="st">&#39;https://datatables.net/examples/server_side/scripts/jsonp.php&#39;</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">dataType =</span> <span class="st">&#39;jsonp&#39;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>))</span></code></pre>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1">{
  "x": {
    "filter": "none",
    "vertical": false,
    "data": [
      [],
      [],
      [],
      [],
      [],
      []
    ],
    "container": "<table class=\"display\">\n  <thead>\n    <tr>\n      <th>First name</th>\n      <th>Last name</th>\n      <th>Position</th>\n      <th>Office</th>\n      <th>Start date</th>\n      <th>Salary</th>\n    </tr>\n  </thead>\n</table>",
    "options": {
      "ajax": {
        "serverSide": true,
        "processing": true,
        "url": "https://datatables.net/examples/server_side/scripts/jsonp.php",
        "dataType": "jsonp"
      },
      "columnDefs": [
        {
          "className": "dt-right",
          "targets": 5
        }
      ],
      "order": [],
      "autoWidth": false,
      "orderClasses": false
    }
  },
  "evals": [],
  "jsHooks": []
}</script>
</div>

<script src="js/script-9.js"></script>



</div>

<script src="js/script-7.js"></script>

<!-- tabsets -->

<script src="js/script-8.js"></script>

<!-- code folding -->



</body>
</html>
